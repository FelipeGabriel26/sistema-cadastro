{% extends "base.html" %}

{% block title %}Cadastro - Sistema de Cadastro{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="text-center mb-4">
            <div
                style="width: 60px; height: 60px; background: var(--primary); border-radius: 12px; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 6px rgba(0,53,128, 0.3);">
                <i class="fas fa-user-plus fa-2x" style="color: white;"></i>
            </div>
            <h1 style="color: var(--primary-dark); font-weight: 800; font-size: 1.5rem; margin-bottom: 0.5rem;">Nova
                Conta</h1>
            <p style="color: var(--text-muted);">Junte-se a nós hoje mesmo</p>
        </div>

        <form action="{{ url_for('registro') }}" method="POST" class="auth-form" id="registroForm">
            <div class="form-group">
                <label for="nome">Nome Completo</label>
                <input type="text" id="nome" name="nome" required placeholder="Seu nome completo" class="form-input">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" name="cpf" required placeholder="000.000.000-00" class="form-input"
                        maxlength="14">
                </div>

                <div class="form-group">
                    <label for="telefone">Telefone</label>
                    <input type="text" id="telefone" name="telefone" required placeholder="(00) 00000-0000"
                        class="form-input" maxlength="15">
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required placeholder="seu@email.com" class="form-input">
            </div>

            <div class="form-group">
                <label for="senha">Senha</label>
                <input type="password" id="senha" name="senha" required placeholder="Mínimo 6 caracteres"
                    class="form-input" minlength="6">
            </div>

            <button type="submit" class="btn btn-primary btn-block">
                Cadastrar
            </button>
        </form>

        <div class="auth-footer">
            <p>Já tem uma conta? <a href="{{ url_for('login') }}">Faça login</a></p>
        </div>
    </div>
</div>

<script>
    // Máscaras para CPF e Telefone (UX Apenas)
    document.getElementById('cpf').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length <= 11) {
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d)/, '$1.$2');
            value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            e.target.value = value;
        }
    });

    document.getElementById('telefone').addEventListener('input', function (e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length <= 11) {
            value = value.replace(/(\d{2})(\d)/, '($1) $2');
            value = value.replace(/(\d{5})(\d)/, '$1-$2');
            e.target.value = value;
        }
    });
</script>
{% endblock %}